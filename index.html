<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Heart Calculator</title>
<link rel="stylesheet" href="styles.css">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icons/icon-192.png">
<meta name="theme-color" content="#ff3b3b">
</head>
<body>

<div class="calculator">
    <div id="display" class="display">0</div>
    <div class="buttons">
        <!-- First row -->
        <button class="heart-btn" onclick="clearDisplay()"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">AC</div></button>
        <button class="heart-btn" onclick="deleteLast()"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">CE</div></button>
        <button class="heart-btn" onclick="append('%')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">%</div></button>
        <button class="heart-btn" onclick="append('/')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">÷</div></button>

        <!-- Second row -->
        <button class="heart-btn" onclick="append('7')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">7</div></button>
        <button class="heart-btn" onclick="append('8')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">8</div></button>
        <button class="heart-btn" onclick="append('9')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">9</div></button>
        <button class="heart-btn" onclick="append('*')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">×</div></button>

        <!-- Third row -->
        <button class="heart-btn" onclick="append('4')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">4</div></button>
        <button class="heart-btn" onclick="append('5')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">5</div></button>
        <button class="heart-btn" onclick="append('6')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">6</div></button>
        <button class="heart-btn" onclick="append('-')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">−</div></button>

        <!-- Fourth row -->
        <button class="heart-btn" onclick="append('1')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">1</div></button>
        <button class="heart-btn" onclick="append('2')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">2</div></button>
        <button class="heart-btn" onclick="append('3')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">3</div></button>
        <button class="heart-btn" onclick="append('+')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">+</div></button>

        <!-- Last row -->
        <button class="heart-btn" onclick="append('00')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">00</div></button>
        <button class="heart-btn" onclick="append('0')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">0</div></button>
        <button class="heart-btn" onclick="append('.')"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">.</div></button>
        <button class="heart-btn" onclick="calculate()"><svg viewBox="0 0 32 29.6"><path d="M23.6,0c-3.4,0-6.4,2-8,4.9C13.8,2,10.8,0,7.4,0C3.3,0,0,3.3,0,7.4c0,11.1,16,22.2,16,22.2s16-11.1,16-22.2C32,3.3,28.7,0,24.6,0H23.6z"/></svg><div class="heart-text">=</div></button>
    </div>
</div>
<!-- Gift & Video Container -->
<div id="gift-container" style="display:none;">
    <img id="gift-box" src="Gift_image.png" alt="Gift Box">
    <div id="video-frame" style="display:none;">
        <iframe id="surprise-video" width="100%" height="100%" frameborder="0"
            src="https://drive.google.com/file/d/1lTMTr8jGWzRH9XpSSO8gHfA5BMSGpuVj/view?usp=drive_link"
            allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>


</div>

<script>
    let display = document.getElementById('display');
    const calculator = document.querySelector('.calculator');
    const giftContainer = document.getElementById('gift-container');
    const giftBox = document.getElementById('gift-box');
    const videoFrame = document.getElementById('video-frame');
    const video = document.getElementById('surprise-video');

    function append(value) {
        if (display.textContent === '0') display.textContent = '';
        display.textContent += value;
    }

    function clearDisplay() {
        display.textContent = '0';

        // Hide gift/video if visible
        if (giftContainer) giftContainer.style.display = 'none';
        videoFrame.style.display = 'none';
        calculator.style.display = 'block';
        calculator.classList.remove('bloom-out');
    }

    function deleteLast() {
        if (display.textContent.length > 1) {
            display.textContent = display.textContent.slice(0, -1);
        } else {
            display.textContent = '0';
        }
    }

    function calculate() {
        const raw = display.textContent.trim();

        // Hide any active gift/video
        if (giftContainer) giftContainer.style.display = 'none';
        calculator.style.display = 'block';

        // ❤️ Secret Codes
        if (raw === '1419') {
            display.textContent = 'ɪ ʟᴏᴠᴇ ʏᴏᴜ 🤍❤️';
        } 
        else if (raw === '1082010' || raw === '1082011') {
            display.textContent = '𝙃𝙖𝙥𝙥𝙮 𝘽𝙞𝙧𝙩𝙝𝙙𝙖𝙮 𝙅𝙚𝙧𝙧𝙮👸🏻🫂';
        } 
        else if (raw === '13112025') {
            display.textContent = 'Advance 3rd Year Anniversary💍';
        } 
        else if (raw === '1082010+13052006' || raw === '1082011+13052006') {
            display.textContent = 'ᴡɪʟʟ ʏᴏᴜ ᴍᴀʀʀʏ ᴍᴇ?💍🤌🏻';
        } 
        else if (raw === '13112022') {
            display.textContent = '';
            calculator.classList.add('bloom-out');

            setTimeout(() => {
                calculator.style.display = 'none';
                giftContainer.style.display = 'flex';
                giftBox.style.display = 'block';
                giftBox.classList.remove('blast');
                videoFrame.style.display = 'none';
                video.src = '';

                giftBox.onclick = () => {
                    giftBox.classList.add('blast');

                    setTimeout(() => {
                        giftBox.style.display = 'none';
                        window.open("https://drive.google.com/file/d/1lTMTr8jGWzRH9XpSSO8gHfA5BMSGpuVj/view?usp=sharing", "_blank");
                    }, 800);
                };

                setTimeout(() => {
                    video.src = '';
                    videoFrame.style.display = 'none';
                    giftContainer.style.display = 'none';
                    calculator.style.display = 'block';
                    calculator.classList.remove('bloom-out');
                    display.textContent = '0';
                }, 40000);
            }, 600);
        } 
        
        // ✅ Add this final else block to handle normal math calculations
        else {
            try {
                const expression = raw
                    .replace(/×/g, '*')
                    .replace(/÷/g, '/')
                    .replace(/−/g, '-')   // Unicode minus to normal minus
                    .replace(/%/g, '/100'); // Optional: Treat 50% as 0.5

                display.textContent = eval(expression);
            } catch {
                display.textContent = 'Error';
            }
        }
    }

    // Service Worker
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("service-worker.js")
            .then(reg => console.log("Service worker registered 💖", reg))
            .catch(err => console.error("Service worker failed 😢", err));
    }

</script>
</body>
</html>


